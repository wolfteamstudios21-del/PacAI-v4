{
  "$schema": "https://pacai.ai/schema/v2.0",
  "title": "PacAI v6.3 Universal JSON Schema v2.0",
  "description": "The frozen, engine-agnostic format that works everywhere forever",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Schema version identifier",
      "const": "https://pacai.ai/schema/v2.0"
    },
    "pacai": {
      "type": "string",
      "description": "PacAI version that generated this export",
      "pattern": "^v\\d+\\.\\d+\\.\\d+$"
    },
    "generated": {
      "type": "string",
      "description": "ISO 8601 timestamp of generation",
      "format": "date-time"
    },
    "seed": {
      "type": "string",
      "description": "Deterministic seed (hex format 0x...)",
      "pattern": "^0x[a-f0-9]{32}$"
    },
    "license": {
      "type": "string",
      "description": "Ed25519 HSM-signed license proof",
      "pattern": "^ed25519:[A-Za-z0-9/+]+=*$"
    },
    "checksums": {
      "type": "object",
      "description": "SHA384 checksums for verification",
      "additionalProperties": {
        "type": "string",
        "pattern": "^sha384:[a-f0-9]{96}$"
      }
    },
    "world": {
      "type": "object",
      "description": "Core world definition",
      "properties": {
        "size_km": {
          "type": "number",
          "description": "World size in kilometers"
        },
        "bounds": {
          "type": "array",
          "description": "[min_x, min_y, max_x, max_y] in world units",
          "minItems": 4,
          "maxItems": 4,
          "items": { "type": "number" }
        },
        "heightmap": {
          "type": "string",
          "description": "Path to terrain height map (EXR format)"
        },
        "biomes": {
          "type": "string",
          "description": "Path to biome layer (PNG/WebP)"
        },
        "navmesh": {
          "type": "string",
          "description": "Path to navigation mesh (multi-layer)"
        },
        "economy_index": {
          "type": "object",
          "description": "Resource availability multipliers",
          "additionalProperties": {
            "type": "number"
          }
        }
      },
      "required": ["size_km", "bounds", "heightmap", "navmesh"]
    },
    "entities_count": {
      "type": "integer",
      "description": "Total number of entities in export"
    },
    "npcs": {
      "type": "string",
      "description": "Path pattern to NPC JSON files (entities/npcs/*.json)"
    },
    "props": {
      "type": "string",
      "description": "Path pattern to prop JSON files (entities/props/*.json)"
    },
    "quests": {
      "type": "string",
      "description": "Path to quest graph master file (quests/master.graphjson)"
    },
    "voice_banks": {
      "type": "string",
      "description": "Path to voice banks directory (8 voices Ã— 40 emotions)"
    },
    "animations": {
      "type": "string",
      "description": "Path to auto-retargeted FBX + animation events directory"
    },
    "audio": {
      "type": "string",
      "description": "Path to spatial audio and music stems directory"
    },
    "exports": {
      "type": "object",
      "description": "Engine-specific optimized bundles",
      "properties": {
        "ue5": {
          "type": "string",
          "description": "Unreal Engine 5.4+ blueprint package"
        },
        "unity": {
          "type": "string",
          "description": "Unity 2024+ package"
        },
        "godot": {
          "type": "string",
          "description": "Godot 4.3+ package"
        },
        "roblox": {
          "type": "string",
          "description": "Roblox Studio .rbxm model"
        },
        "visionos": {
          "type": "string",
          "description": "Apple visionOS USDZ + RealityKit"
        },
        "webgpu": {
          "type": "string",
          "description": "WebGPU browser-ready package"
        },
        "vbs4": {
          "type": "string",
          "description": "VBS4 military simulation format"
        }
      }
    },
    "replay": {
      "type": "object",
      "description": "Optional frame-perfect replay with cryptographic proof",
      "properties": {
        "duration_seconds": {
          "type": "number",
          "description": "Total replay duration"
        },
        "file": {
          "type": "string",
          "description": "Path to replay.bin"
        },
        "signature": {
          "type": "string",
          "description": "Ed25519 signature of replay file"
        }
      }
    }
  },
  "required": [
    "$schema",
    "pacai",
    "generated",
    "seed",
    "license",
    "world",
    "entities_count"
  ],
  "additionalProperties": false
}
